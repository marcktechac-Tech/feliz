<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Feliz CumpleaÃ±os</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  body {
    display:flex; justify-content:center; align-items:center;
    height:100vh; margin:0;
    background:linear-gradient(135deg,#74ebd5,#ACB6E5);
    overflow:hidden;
  }

  .sobre {
    position:relative; width:360px; height:260px; cursor:pointer;
  }

  .cuerpo {
    width:100%; height:100%;
    background:#fff; border:3px solid #333; border-radius:6px;
    position:relative; z-index:1;
  }

  .flap {
    position:absolute; top:0; left:0; width:100%; height:100%;
    background:#f39c12;
    clip-path: polygon(0 0, 100% 0, 50% 50%);
    transform-origin: top;
    transition: transform 1s;
    z-index:2;
  }
  .sobre.abierto .flap { transform: rotateX(180deg); }

  .carta {
    position:absolute; inset:10px; background:#fff;
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    text-align:center; border-radius:8px;
    transform:translateY(100%); transition:transform 1s;
    z-index:1; padding:20px;
    opacity:0; /* Oculto al inicio */
  }
  .sobre.abierto .carta { transform:translateY(0); opacity:1; }

  .linea1 {
    font-family:'Pacifico', cursive;
    font-size:22px; color:#e74c3c; margin-bottom:10px;
  }
  .linea2 {
    font-family:'Great Vibes', cursive;
    font-size:40px; color:#2c3e50;
  }

  .confeti {
    position:absolute; width:8px; height:8px; border-radius:50%;
    animation: caer 3s linear infinite;
  }
  @keyframes caer {
    0% { transform: translateY(-50px) rotate(0deg); opacity:1; }
    100% { transform: translateY(600px) rotate(360deg); opacity:0; }
  }

  .hand {
    position:absolute; bottom:-60px; right:-40px;
    font-size:50px; animation: mover 1s infinite alternate;
    z-index:3; pointer-events:none;
  }
  @keyframes mover {
    from { transform: translateY(0); }
    to { transform: translateY(-15px); }
  }
</style>
</head>
<body>

<div class="sobre" id="sobre">
  <div class="cuerpo"></div>
  <div class="flap"></div>
  <div class="carta">
    <div class="linea1" id="linea1"></div>
    <div class="linea2" id="linea2"></div>
  </div>
  <div class="hand" id="hand">ðŸ‘†</div>
</div>

<audio id="musica" loop>
  <source src="cumple.mp3" type="audio/mpeg">
</audio>

<script>
  const linea1 = "ðŸŽ‰ FELIZ CUMPLEAÃ‘OS ðŸŽ‰";
  const linea2 = "JOSE ANGEL";
  const cont1 = document.getElementById("linea1");
  const cont2 = document.getElementById("linea2");
  const sobre = document.getElementById("sobre");
  const musica = document.getElementById("musica");
  const hand = document.getElementById("hand");

  // Crear letras
  function crearLetras(texto, contenedor){
    texto.split("").forEach(l=>{
      const span = document.createElement("span");
      span.textContent = l;
      contenedor.appendChild(span);
    });
  }
  crearLetras(linea1, cont1);
  crearLetras(linea2, cont2);

  // Generar confeti en bucle
  function lanzarConfeti(){
    const c = document.createElement("div");
    c.className="confeti";
    c.style.left = Math.random()*window.innerWidth+"px";
    c.style.background = `hsl(${Math.random()*360},100%,50%)`;
    c.style.animationDuration = (2+Math.random()*3)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }

  let confetiInterval;

  // Evento al tocar el sobre
  sobre.onclick = () => {
    hand.style.display="none"; // quitar manito
    sobre.classList.add("abierto");

    // Reproducir mÃºsica
    musica.play().then(()=>{
      // Iniciar confeti en bucle mientras suena
      confetiInterval = setInterval(lanzarConfeti, 200);
    }).catch(()=>{
      alert("Toca otra vez para activar el sonido ðŸŽ¶");
    });
  };
</script>
</body>
</html>


