<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Feliz CumpleaÃ±os</title>
<!-- Fuente festiva para el tÃ­tulo -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<!-- Fuente cursiva elegante para el nombre -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  body {
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    height:100vh; margin:0;
    background:linear-gradient(135deg,#2c3e50,#4ca1af);
    font-family:sans-serif;
  }
  .btn-musica {
    background:#2a5298; color:#fff; border:none; padding:10px 20px;
    font-size:16px; border-radius:6px; cursor:pointer; margin-bottom:20px;
  }
  .btn-musica:hover { background:#1e3c72; }

  .sobre {
    position:relative; width:340px; height:240px; cursor:pointer;
    perspective:1000px;
  }
  .cuerpo {
    width:100%; height:100%; background:#b0b0b0;
    border:2px solid #333; border-radius:6px;
    position:relative; overflow:hidden;
  }
  .flap {
    position:absolute; top:0; left:0; width:100%; height:100%;
    background:#555;
    clip-path: polygon(0 0, 100% 0, 50% 50%);
    transform-origin: top;
    transition: transform 1s;
    z-index:2;
  }
  .sobre.abierto .flap { transform: rotateX(180deg); }
  .carta {
    position:absolute; inset:10px; background:#f5f5f5;
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    text-align:center;
    transform:translateY(100%); transition:transform 1s;
    z-index:1; padding:10px;
  }
  .sobre.abierto .carta { transform:translateY(0); }

  .linea1 {
    font-family:'Pacifico', cursive;
    font-size:20px; color:#2c3e50; margin-bottom:10px;
  }
  .linea2 {
    font-family:'Great Vibes', cursive;
    font-size:36px; color:#000;
  }

  .letra {
    margin:2px; opacity:0;
    transform:translateY(-60px) scale(0.5);
    transition: all 0.8s ease;
    display:inline-block;
  }
  .visible { opacity:1; }
  .ordenada { animation: rebote 0.6s ease; }
  @keyframes rebote {
    0% { transform:translateY(-20px) scale(1.2); }
    50% { transform:translateY(5px) scale(0.9); }
    100% { transform:translateY(0) scale(1); }
  }
</style>
</head>
<body>

<!-- BotÃ³n para desbloquear el audio -->
<button class="btn-musica" id="activar">ðŸŽ¶ Activar mÃºsica</button>

<div class="sobre" id="sobre">
  <div class="cuerpo"></div>
  <div class="flap"></div>
  <div class="carta">
    <div class="linea1" id="linea1"></div>
    <div class="linea2" id="linea2"></div>
  </div>
</div>

<!-- Audio local -->
<audio id="musica" loop>
  <source src="cumple.mp3" type="audio/mpeg">
</audio>

<script>
  const linea1 = "FELIZ CUMPLEAÃ‘OS";
  const linea2 = "JOSE ANGEL";
  const cont1 = document.getElementById("linea1");
  const cont2 = document.getElementById("linea2");
  const sobre = document.getElementById("sobre");
  const musica = document.getElementById("musica");
  const activar = document.getElementById("activar");

  // Crear letras
  function crearLetras(texto, contenedor){
    texto.split("").forEach(l=>{
      const span = document.createElement("span");
      span.textContent = l;
      span.className = "letra";
      contenedor.appendChild(span);
    });
  }
  crearLetras(linea1, cont1);
  crearLetras(linea2, cont2);

  // BotÃ³n para desbloquear audio
  activar.onclick = () => {
    musica.play().then(()=>{
      activar.style.display="none";
    }).catch(()=>{
      alert("Toca otra vez para activar el sonido ðŸŽ¶");
    });
  };

  // Abrir sobre y animar letras
  sobre.onclick = () => {
    sobre.classList.toggle("abierto");
    if(sobre.classList.contains("abierto")){
      const spans = document.querySelectorAll(".letra");
      // Fase 1: aparecen desordenadas
      spans.forEach((s,i)=>{
        setTimeout(()=>{
          s.classList.add("visible");
          s.style.transform = `translate(${(Math.random()*120-60)}px, ${(Math.random()*100-50)}px) scale(1)`;
        }, i*100);
      });
      // Fase 2: reacomodo ordenado con rebote
      setTimeout(()=>{
        spans.forEach((s,i)=>{
          setTimeout(()=>{
            s.style.transform = "translate(0,0) scale(1)";
            s.classList.add("ordenada");
          }, i*80);
        });
      }, 3000);
    }
  };
</script>
</body>
</html>


